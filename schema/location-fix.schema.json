{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://example.com/iosTracker/location-fix.schema.json",
  "title": "LocationFix",
  "type": "object",
  "additionalProperties": false,
  "required": [
    "ts_unix_ms",
    "source",
    "lat",
    "lon",
    "h_accuracy_m",
    "v_accuracy_m",
    "speed_mps",
    "course_deg",
    "battery_pct",
    "seq"
  ],
  "properties": {
    "ts_unix_ms": {
      "type": "integer",
      "description": "Unix epoch timestamp in milliseconds."
    },
    "source": {
      "type": "string",
      "enum": ["watchOS", "iOS"],
      "description": "Origin of the fix."
    },
    "lat": {
      "type": "number",
      "minimum": -90,
      "maximum": 90,
      "description": "Latitude in decimal degrees."
    },
    "lon": {
      "type": "number",
      "minimum": -180,
      "maximum": 180,
      "description": "Longitude in decimal degrees."
    },
    "alt_m": {
      "type": ["number", "null"],
      "description": "Altitude above mean sea level in meters."
    },
    "h_accuracy_m": {
      "type": "number",
      "minimum": 0,
      "description": "Horizontal accuracy in meters."
    },
    "v_accuracy_m": {
      "type": "number",
      "minimum": 0,
      "description": "Vertical accuracy in meters."
    },
    "speed_mps": {
      "type": "number",
      "minimum": 0,
      "description": "Ground speed in meters per second."
    },
    "course_deg": {
      "type": "number",
      "minimum": 0,
      "maximum": 360,
      "description": "Course over ground in degrees."
    },
    "battery_pct": {
      "type": "number",
      "minimum": 0,
      "maximum": 1,
      "description": "Battery state as a unit fraction (0.0 - 1.0)."
    },
    "seq": {
      "type": "integer",
      "minimum": 0,
      "description": "Monotonic sequence identifier for the reporting device."
    }
  }
}
